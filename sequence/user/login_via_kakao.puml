@startuml
'https://plantuml.com/sequence-diagram

actor 사용자
participant "Flutter 앱" as Client
participant "서비스 서버" as Server
participant "카카오 인증 서버" as Kakao

사용자 -> Client : 카카오 로그인 버튼 클릭
Client -> Kakao : 로그인 요청
Kakao -> Client : 액세스 토큰 발급
Client -> Server : 액세스 토큰 전달
Server -> Kakao : 사용자 정보 요청 (/v2/user/me)
Kakao -> Server : 사용자 정보 반환

alt 신규 유저
    Server -> Server : 자체 회원가입 처리
    Server -> Client : JWT 발급 (자체 서비스 로그인 완료)
else 기존 유저
    Server -> Client : JWT 발급 (자체 서비스 로그인 완료)
end

Client -> 사용자 : 서비스 로그인 완료 (자체 JWT 저장)
@enduml
